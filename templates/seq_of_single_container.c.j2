/* e2ap_{{list_name}}.c */

//seq_of_single_container.c

int asn1PE_e2ap_{{list_name}} (OSCTXT* pctxt, e2ap_{{list_name}}* pvalue)
{
   int stat = 0;
   OSRTDListNode* pnode;
   OSUINT32 xx1;

   RTXCTXPUSHTYPENAME (pctxt, "{{list_name}}");

   /* encode length determinant */
   PU_SETSIZECONSTRAINT (pctxt, OSUINTCONST({{min_size}}), OSUINTCONST({{max_size}}), 0, 0);

   stat = pe_Length (pctxt, pvalue->count);
   if (stat < 0) return LOG_RTERR (pctxt, stat);

   /* encode elements */
   xx1 = 0;
   for (pnode = pvalue->head; pnode != 0 && xx1 < pvalue->count; pnode = pnode->next) {
      RTXCTXPUSHARRAYELEMNAME (pctxt, "SEQUENCE", xx1);

      stat = asn1PE_e2ap_{{item_ies}} (pctxt, (e2ap_{{item_ies}}*)pnode->data);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      xx1++;
      RTXCTXPPOPARRAYELEMNAME (pctxt);
   }

   RTXCTXPOPTYPENAME (pctxt);
   return stat;
}

int asn1PD_e2ap_{{list_name}} (OSCTXT* pctxt, e2ap_{{list_name}}** ppvalue)
{
   int stat = 0;
   OSRTDListNode* pnode;
   OSSIZE count = 0;
   OSSIZE xx1 = 0;

   RTXCTXPUSHTYPENAME (pctxt, "{{list_name}}");

   PU_SETSIZECONSTRAINT (pctxt, OSUINTCONST({{min_size}}), OSUINTCONST({{max_size}}), 0, 0);

   stat = pd_Length64 (pctxt, &count);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   rtxDListInit (ppvalue);

   for (xx1 = 0; xx1 < count; xx1++) {
      e2ap_{{item_ies}}* pdata;
      RTXCTXPUSHARRAYELEMNAME (pctxt, "SEQUENCE", xx1);
      rtxDListAllocNodeAndData(pctxt, e2ap_{{item_ies}}, &pnode, &pdata);
      
      if (pnode == NULL) return LOG_RTERR (pctxt, RTERR_NOMEM);

      asn1Init_e2ap_{{item_ies}} (pdata);

      rtxDListAppendNode(pvalue, pnode);
      stat = asn1PD_e2ap_{{item_ies}} (pctxt, pdata);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      RTXCTXPPOPARRAYELEMNAME (pctxt);
   }

   RTXCTXPOPTYPENAME (pctxt);
   return stat;
}

void asn1Init_e2ap_{{list_name}} (e2ap_{{list_name}}* pvalue)
{  
   if (0 == pvalue) return RTERR_NULLPTR;
   rtxDListFastInit (pvalue);
   return 0;
}

void asn1Free_e2ap_{{list_name}} (OSCTXT* pctxt, e2ap_{{list_name}}* pvalue)
{
   e2ap_{{list_name}}* pdata;
   OSRTDListNode* pnode = pvalue->head;
   while (0 != pnode) {
      pdata = (e2ap_{{item_ies}}*) pnode->data;
      asn1Free_e2ap_{{item_ies}} (pctxt, pdata);
      pnode = pnode->next;
   }
   rtxDListFreeAll (pvalue);
}